# **Тестовое задание 1**

## Требования:
1) Подготовить виртуальную машину с внешним доступом по ssh:
  * ОС Ubuntu 20.04.4 LTS
  * 1 Core
  * 1GB RAM
2) Подготовить и настроить **web** сервер для работы **laravel framework**:
  * nginx
  * php >= 7.2.5
  * mysql server
  * composer
3) Залить исходный код фреймворка с github
4) Настроить iptables firewall:
  * открыть 22 порт
  * открыть 80 порт
  * открыть 443 порт
5) Завести пользователя ubuntu
6) Предоставить sudo ALL для созданного пользователя (без ввода пароля)
7) Nginx должен отдавать страницы laravel только по определенному доменному имени (покупать, делегировать или прописывать А запись на ip сервера не нужно, домен должен быть вымышленный)
  * Все остальные http запросы на ip не должны возвращать страницы laravel (запросы вида http://ip не должны возвращать страниц laravel)
8) Доступ к серверу должен быть по ssh ключу для пользователя ubuntu
9) Практическая часть должна быть оформлена в виде ansible playbook

## Выполнение:
### Значения по умолчанию:
1) В файле **web_laravel.yml**
   * Все пароли - **password123456** — *Замените на свой*
   * Пользователь базы данных - **testuser** — *Замените на своего*
   * База данных - **testlaravel** — *Замените на свою*
   * Наполнение базы можете для теста оставить, либо заменить на свои данные
   * SSH ключ — *Замените на свой*
   * IP и DNS - **10.0.5.142 laratest.ru** — *Замените на свои*
2) В файле **hosts**
   * Адрес(а) и имя — *Замените на свои*
### Как использовать:
1) Клонируете себе ветку - **git clone https://github.com/igkfellk/devops-testing-1**
2) Переходите в каталог **cd devops-testing-1**
3) Вносите нужные вам изменения в файлах **web_laravel.yml** и **hosts**
4) Выполняете команду **ansible-playbook web_laravel.yml -K** — *Ключ **-K** нужен что бы ввести пароль для **sudo***
5) После успешного выполнения идем на сервер проверять работу приложения и видим что по ip нас отбрасывает, а по доменному имени мы получаем страницу.
   ![image](https://github.com/igkfellk/devops-testing-1/assets/149176691/209608a7-bf2f-42b1-8895-5f18431fad36)
6) Значит все выполнено успешно на мой взгляд
## Ответ от постановщика задачи:
![image](https://github.com/igkfellk/devops-testing-1/assets/149176691/270a0292-77db-481b-999b-9afa833e8f4e)
